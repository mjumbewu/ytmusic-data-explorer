<html>
<head>
  <title>Your YouTube Music Data Explorer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5.0, minimum-scale=1">

  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div id="uiDataLoader">
    <form>
      <input type="file" id="uiDataLoaderFile">
      <label for="uiDataLoaderFile"><strong>Choose your <em>watch-history.json</em> file</strong><br>or drag it here.</label>
      <div class="instructions">
        <p> Get your YouTube Music data in a <em>watch-history.json</em> file from Google Takeout: </p>
        <ol>
          <li>Go to <a href="https://takeout.google.com/" target="_blank">Google Takeout</a>.</li>
          <li>Click <strong>Deselect All</strong> above the first checkbox.</li>
          <li>Scroll all the way down to YouTube, and only check that box.</li>
          <li>Click the button that says <strong>Multiple Formats</strong>.</li>
          <li>Next to <strong>History</strong>, select the <strong>JSON</strong> option from the dropdown box and Click OK.</li>
          <li>Click on the <strong>All YouTube data included</strong> button.</li>
          <li>Click <strong>Deselect All</strong>, and then only check <strong>History</strong>. Click OK.</li>
          <li>Scroll down and hit next step to finish your takeout.</li>
          <li>Once you have your takeout file, extract the <em>watch-history.json</em> file from within the zip file.</li>
        </ol>
        <p> <small>Instructions adapted from <a href="https://github.com/cinfulsinamon/ytmusic_wrapped" target="_blank">ytmusic_wrapped documentation</a>.</small> </p>
      </div>
    </form>
  </div>

  <div id="uiMostPlayedSongs">
    <script id="tmpMostPlayedSongListItem"></script>
  </div>

  <div id="uiMostPlayedArtists">
    <header>
      <h2>Most Played Artists</h2>
    </header>
    <div class="most-played-artists-list-wrapper">
      <table id="uiMostPlayedArtistsList">
        <thead>
          <tr>
            <th> Artists </th>
            <th> # of Songs Played </th>
            <th> Total time listened </th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>

      <script type="text/x-template" id="tmpMostPlayedArtistsListItem">
        <tr>
          <td class="artist-name">${name}</td>
          <td class="artist-play-count">${playCount}</td>
          <td class="artist-play-time">${playTime ? playTime.toFixed(2) : 'no'} hours</td>
        </tr>
      </script>
    </div>
  </div>

  <div id="uiMostPlayedSongs">
    <header>
      <h2>Most Played Songs</h2>
    </header>
    <div class="most-played-songs-list-wrapper">
      <table id="uiMostPlayedSongsList">
        <thead>
          <tr>
            <th> Title </th>
            <th> Artist </th>
            <th> # of Plays </th>
            <th> Total time listened </th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>

      <script type="text/x-template" id="tmpMostPlayedSongsListItem">
        <tr>
          <td class="song-title">${title}</td>
          <td class="song-artist-name">${artistName}</td>
          <td class="song-play-count">${playCount}</td>
          <td class="song-play-time">${playTime ? playTime.toFixed(2) : 'no'} hours</td>
        </tr>
      </script>
    </div>
  </div>

  <script src="https://apis.google.com/js/api.js"></script>
  <script src="js/main.js" type="module"></script>
</body>
</html>
